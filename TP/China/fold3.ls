/PROG  FOLD3
/ATTR
OWNER		= MNEDITOR;
COMMENT		= "";
PROG_SIZE	= 3125;
CREATE		= DATE 17-03-15  TIME 09:05:44;
MODIFIED	= DATE 18-08-20  TIME 11:44:46;
FILE_NAME	= ;
VERSION		= 0;
LINE_COUNT	= 157;
MEMORY_SIZE	= 3545;
PROTECT		= READ_WRITE;
TCD:  STACK_SIZE	= 0,
      TASK_PRIORITY	= 50,
      TIME_SLICE	= 0,
      BUSY_LAMP_OFF	= 0,
      ABORT_REQUEST	= 0,
      PAUSE_REQUEST	= 0;
DEFAULT_GROUP	= *,*,1,*,*;
CONTROL_CODE	= 00000000 00000000;
/APPL
  ARC : TRUE ; 
  ARC Welding Equipment : 1,*,*,*,*;
/MN
   1:  JMP LBL[555] ;
   2:  !start here if manual ;
   3:  R[208]=6    ;
   4:  LBL[555] ;
   5:   ;
   6:  R[75]=0    ;
   7:  RO[9]=OFF ;
   8:  DO[128]=OFF ;
   9:   ;
  10:  TIMER[3]=RESET ;
  11:  TIMER[3]=START ;
  12:   ;
  13:  UFRAME_NUM=1 ;
  14:  UTOOL_NUM=1 ;
  15:  PR[140]=JPOS    ;
  16:   ;
  17:  Weave End ;
  18:  Track End ;
  19:  !************************** ;
  20:  !Move gun out if Needed ;
  21:  !************************** ;
  22:  PR[120]=LPOS    ;
  23:  IF (PR[120,3]<50) THEN ;
  24:  UFRAME_NUM=9 ;
  25:  UTOOL_NUM=1 ;
  26:  PR[121]=LPOS    ;
  27:   ;
  28:  UFRAME[6]=PR[121] ;
  29:   ;
  30:  UFRAME_NUM=6 ;
  31:  PR[122]=LPOS    ;
  32:  PR[122,3]=PR[122,3]+50    ;
  33:   ;
  34:L PR[122] 200mm/sec FINE    ;
  35:  ENDIF ;
  36:   ;
  37:  UFRAME_NUM=1 ;
  38:  UTOOL_NUM=1 ;
  39:   ;
  40:  !************************** ;
  41:  !Points ;
  42:  !************************** ;
  43:  !Unfold point ;
  44:  PR[120]=JPOS    ;
  45:  PR[120,1]=90    ;
  46:  PR[120,2]=(-67)    ;
  47:  PR[120,3]=0    ;
  48:  PR[120,4]=0    ;
  49:  PR[120,5]=70    ;
  50:  PR[120,6]=0    ;
  51:   ;
  52:  !Rotate under boom ;
  53:  PR[121]=PR[120]    ;
  54:  PR[121,5]=(-25)    ;
  55:   ;
  56:  !perhaps shift 7. axis ;
  57:  !if too close to start ;
  58:  PR[130]=JPOS    ;
  59:  !Setting 7 axis ;
  60:  !if ((R[208]<600) and (R[70]<>51) ;
  61:   ;
  62:  IF ((PR[130,7])<500) THEN ;
  63:  PR[130,7]=PR[130,7]+750    ;
  64:  ENDIF ;
  65:  !if too close to end ;
  66:  R[137]=$param_group[1].$upperlims[7] ;
  67:   ;
  68:  IF ((R[137]-750)<PR[130,7]) THEN ;
  69:  PR[130,7]=PR[130,7]-750    ;
  70:  ENDIF ;
  71:   ;
  72:  ! 2. axis all way back ;
  73:  PR[122]=PR[121]    ;
  74:  PR[122,7]=PR[130,7]    ;
  75:   ;
  76:   ;
  77:  ! 2. axis all way back side boom ;
  78:  PR[123]=PR[122]    ;
  79:  PR[123,1]=(-75)    ;
  80:  PR[123,3]=(0) ;
  81:  PR[123,4]=((-90)) ;
  82:  PR[123,6]=180    ;
  83:  PR[123,7]=PR[130,7]+0    ;
  84:   ;
  85:  !Pointing down with 2. axis ;
  86:  PR[125]=PR[123]    ;
  87:  PR[125,2]=(0) ;
  88:  PR[125,3]=((-55)) ;
  89:  PR[125,5]=(-25)    ;
  90:  PR[125,6]=0    ;
  91:  PR[125,7]=PR[130,7]-0    ;
  92:  IF (PR[125,7]<0),PR[125,7]=1 ;
  93:   ;
  94:  !Folded up ;
  95:  PR[127]=PR[125]    ;
  96:  PR[127,1]=(-10)    ;
  97:  PR[127,2]=90    ;
  98:  PR[127,3]=(-90)    ;
  99:  PR[127,4]=0    ;
 100:  PR[127,5]=29    ;
 101:  PR[127,6]=0    ;
 102:  PR[127,7]=PR[130,7]-0    ;
 103:  IF (PR[127,7]<0),PR[127,7]=1 ;
 104:   ;
 105:   ;
 106:  !************************** ;
 107:  !******** Motion ********* ;
 108:  !************************** ;
 109:  PR[130]=JPOS    ;
 110:  PR[131]=LPOS    ;
 111:  IF (PR[130,1]<(-5) AND PR[130,2]>0) THEN ;
 112:  PR[127,7]=PR[130,7]    ;
 113:  JMP LBL[127] ;
 114:  ENDIF ;
 115:   ;
 116:  IF (PR[130,1]<(-5) AND (PR[130,2]<0)),JMP LBL[125] ;
 117:  IF (PR[130,1]>45),JMP LBL[120] ;
 118:  IF (PR[130,1]<45 AND PR[131,3]>450),JMP LBL[123] ;
 119:   ;
 120:  LBL[120] ;
 121:  IF (PR[130,5]<0),JMP LBL[121] ;
 122:  IF (PR[131,3]>(550)),JMP LBL[121] ;
 123:   ;
 124:  ! handle low angle ;
 125:  IF (R[268]=1) THEN ;
 126:  PR[129]=JPOS    ;
 127:  PR[129,6]=PR[120,6]    ;
 128:J PR[129] 35% CNT0    ;
 129:  ENDIF ;
 130:   ;
 131:L PR[120] 50deg/sec CNT0    ;
 132:   ;
 133:  LBL[121] ;
 134:J PR[121] 100% CNT0    ;
 135:  !cross ;
 136:  IF (R[70]=51 AND R[208]<600 AND R[221]=18),JMP LBL[999] ;
 137:   ;
 138:  LBL[122] ;
 139:J PR[122] 100% CNT0    ;
 140:   ;
 141:  LBL[123] ;
 142:J PR[123] 100% CNT0    ;
 143:  !R[75]=R[75]+3 ;
 144:  LBL[125] ;
 145:J PR[125] 100% CNT0    ;
 146:   ;
 147:  LBL[127] ;
 148:J PR[127] 100% CNT0    ;
 149:   ;
 150:  LBL[999] ;
 151:  !delay ;
 152:  IF (TIMER[3]<.5) THEN ;
 153:  WAIT    .50(sec) ;
 154:  ENDIF ;
 155:  TIMER[3]=STOP ;
 156:   ;
 157:  !IF (R[75]<3),R[75]=(R[75]+3) ;
/POS
/END
