/PROG  PB_WEMID1
/ATTR
OWNER		= MNEDITOR;
COMMENT		= "";
PROG_SIZE	= 2535;
CREATE		= DATE 10-08-05  TIME 14:56:58;
MODIFIED	= DATE 18-01-28  TIME 21:47:08;
FILE_NAME	= ;
VERSION		= 0;
LINE_COUNT	= 115;
MEMORY_SIZE	= 2971;
PROTECT		= READ_WRITE;
TCD:  STACK_SIZE	= 0,
      TASK_PRIORITY	= 50,
      TIME_SLICE	= 0,
      BUSY_LAMP_OFF	= 0,
      ABORT_REQUEST	= 0,
      PAUSE_REQUEST	= 0;
DEFAULT_GROUP	= 1,*,*,*,*;
CONTROL_CODE	= 00000000 00000000;
/APPL
  ARC : TRUE ; 
  ARC Welding Equipment : 1,*,*,*,*;

MPAS ;
MPAS_NUM_PASSES        : 0;
MPAS_LAST_PASS         : 0;
MPAS_CURRENT_PASS      : 0;
MPAS_STATUS_PASS       : 0;
/MN
   1:  JMP LBL[555] ;
   2:  R[151]=0    ;
   3:  LBL[555] ;
   4:  !************************** ;
   5:  !**  Start under scallop ;
   6:  !************************** ;
   7:   ;
   8:  UFRAME_NUM=2 ;
   9:  UTOOL_NUM=1 ;
  10:  Weave End ;
  11:  Track End ;
  12:   ;
  13:   ;
  14:  !-- AT RESUME JMP TO LABEL ;
  15:  IF ((R[151]>0)),JMP LBL[R[151]] ;
  16:   ;
  17:   ;
  18:  !****************************** ;
  19:  !--   ANGLE CALC  -- ;
  20:  !****************************** ;
  21:  !* FUT 000 OR FUT 00-1 (PR[43-44) ;
  22:   ;
  23:  !***  POSITION CALC START ;
  24:  R[102]=(60+(R[95]*10)) ;
  25:   ;
  26:  !***  CONFIG CALC ;
  27:  R[103]=43    ;
  28:  IF (R[95]=(1)),R[103]=(45) ;
  29:   ;
  30:  CALL PRG_CALC1    ;
  31:   ;
  32:  !**************************** ;
  33:  !**** PB web start mid ;
  34:  !**** POSITION CALC & WELDING ;
  35:  !**************************** ;
  36:   ;
   47:   ;
  48:  !-- SAFE START  POINT ;
  49:  R[141]=(-50)    ;
  50:  R[142]=50    ;
  51:  CALL PRG_CALC1    ;
  52:  R[101]=R[102]+11    ;
  54:  PR[35]=PR[25]+PR[R[101]]    ;
  55:  PR[35,1]=PR[35,1]+R[141]    ;
  56:  PR[35,2]=PR[35,2]+R[142]    ;
  57:  PR[35,3]=PR[35,3]+20    ;
  58:  !7 axis ;
  59:  IF (R[258]=1 AND R[81]=2) THEN ;
  60:  PR[35,7]=(PR[35,7]+200*R[83]*R[179]) ;
  61:  ENDIF ;
  62:   ;
  63:  !------- ;
  64:   ;
  65:  !--  WELDING  POINT 1 ;
  66:  R[141]=0    ;
  67:  R[142]=(-5)    ;
  68:   ;
  69:  ! start out for corner ;
  70:  IF (R[257]=1),R[142]=20 ;
  71:  CALL PRG_CALC1    ;
:R[101]=R[102]+11 ;
  74:  PR[1]=PR[25]+PR[R[101]]    ;
  75:  PR[1,1]=PR[1,1]+R[141]    ;
  76:  PR[1,2]=PR[1,2]+R[142]    ;
  77:  PR[1,3]=PR[1,3]    ;
  78:  !7 axis ;
  79:  IF (R[258]=1 AND R[81]=2) THEN ;
  80:  PR[1,7]=(PR[1,7]+200*R[83]*R[179]) ;
  81:  ENDIF ;
  82:  !------- ;
  83:   ;
  84:  !resetting angles ;
  85:  R[181]=0    ;
  86:  R[182]=0    ;
  87:  R[183]=0    ;
  88:  CALL PRG_CALC1    ;
  89:  R[258]=R[180]    ;
  90:   ;
  91:  !---------------------------- ;
  92:  ! ***** WELDING ***** ;
  93:   ;
  94:  !-- MOVE TO SAFE START ;
  95:   ;
  96:  IF (R[136]=0) THEN ;
  97:L PR[35] 150mm/sec CNT50    ;
  98:  ELSE ;
  99:L PR[35] 50mm/sec FINE    ;
 100:  ENDIF ;
 101:   ;
 102:  !** -------------------  ** ;
 103:   ;
 104:  !-- MOVE TO WELD START ;
 105:  R[163]=1    ;
 106:   ;
 107:  LBL[11] ;
 108:  R[151]=11    ;
 109:   ;
 110:L PR[1] 150mm/sec FINE    ;
 111:   ;
 112:  LBL[999] ;
 113:  R[151]=0    ;
 114:   ;
 115:  LBL[1000] ;
/POS
/END
